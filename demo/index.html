<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title>Cosmoz i18next</title>

	<script src="/node_modules/@webcomponents/webcomponentsjs/webcomponents-bundle.js"></script>
	<script src="/node_modules/web-animations-js/web-animations-next-lite.min.js"></script>

	<script type="module" src="/node_modules/@polymer/paper-dropdown-menu/paper-dropdown-menu.js"></script>
	<script type="module" src="/node_modules/@polymer/paper-listbox/paper-listbox.js"></script>
	<script type="module" src="/node_modules/@polymer/paper-item/paper-item.js"></script>

	<script type="module" src="../cosmoz-i18next.js"></script>
	<script type="module" src="../cosmoz-t.js"></script>
	<script type="module" src="./x-translatable.js"></script>
</head>
<body>
	<dom-bind id="t">
		<template is="dom-bind">
			<cosmoz-i18next interpolation-prefix="$" interpolation-suffix="$" id="trans" translations="[[ getTranslations(locale) ]]"></cosmoz-i18next>
			<paper-dropdown-menu label="Locale" value="{{ locale }}">
				<paper-listbox class="dropdown-content" slot="dropdown-content" selected="0">
					<paper-item>en</paper-item>
					<paper-item>fr</paper-item>
					<paper-item>sv</paper-item>
				</paper-listbox>
			</paper-dropdown-menu>

			<h2>cosmoz-t</h2>
			<cosmoz-t input="key"></cosmoz-t>

			<h2>x-translatable</h2>
			<x-translatable></x-translatable>
		</template>
	</dom-bind>

	<script type="module">
		window.addEventListener('WebComponentsReady', () => {
			const t = document.getElementById('t'),
				translations = {
					en: {
						key: 'asdfkeasdfeeey',
						'existing singular key $0$': '(singular) existing singular key $0$',
						'Approve invoice': '(singular) Approve invoice',
						'Cancel invoice': '(singular) Cancel invoice',
						'Cancel invoice_supplier': '(supplier) Cancel supplier invoice',
						'Cancel $0$ invoice': '(no context, singular) Cancel this invoice',
						'Cancel $0$ invoice_plural': '(no context, plural)	Cancel these $0$ invoices',
						'Cancel $0$ invoice_supplier': '(supplier)	Cancel this supplier invoice',
						'Cancel $0$ invoice_supplier_plural': '(supplier, plural)	 Cancel these $0$ supplier invoices',
						'Reject $0$ invoice': '(no context, singular)	 Reject invoice'
					},
					fr: {
						'Approve invoice': '(singular) Approuver la facture',
						'Cancel invoice': '(singular) Annuler la facture',
						'Cancel invoice_supplier': '(supplier) Annuler la facture fournisseur'
					},
					sv: {
						'Hello $0$': 'Hej $0$',
						'I have $0$ invoice': '(singular) Jag har bara $0$ faktura',
						'I have $0$ invoice_plural': '(plural) Jag har faktiskt $0$ fakturor'
					}
				};

			t.getTranslations = locale => {
				return translations[locale];
			};
			t.locale = 'sv';
		});
	</script>
</body>
</html>
